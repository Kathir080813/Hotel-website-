<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mumbai Special BBQ</title>

<style>
body{margin:0;font-family:Arial;background:#f5f5f5}
.header{
 background:#7b1e1e;
 color:white;
 padding:10px;
 position:sticky;
 top:0;
 z-index:100;
}
.header select,.header input{
 padding:6px;
 border-radius:6px;
 border:none;
 margin-top:5px;
 width:100%;
}
.category h3{
 background:#ff6f00;
 color:white;
 padding:8px;
 margin:10px 0 5px 0;
}
.item{
 display:flex;
 justify-content:space-between;
 background:white;
 padding:8px;
 margin:4px 8px;
 border-radius:6px;
 font-size:14px;
}
.qty button{
 padding:2px 8px;
}
.qty span{
 min-width:20px;
 display:inline-block;
 text-align:center;
 font-weight:bold;
}
.cart{
 position:fixed;
 bottom:0;
 left:0;
 right:0;
 background:white;
 padding:10px;
 box-shadow:0 -2px 10px rgba(0,0,0,0.2);
}
.cart button{
 width:100%;
 padding:10px;
 margin-top:5px;
 border:none;
 border-radius:6px;
 color:white;
}
.wa{background:green}
.clear{background:red}
.report{background:#283593}
.reset{background:#444}
</style>
</head>

<body>

<div class="header">
<b>Mumbai Special BBQ</b>
<select id="tableNo">
<option value="">Select Table</option>
<option>TB1</option><option>TB2</option><option>TB3</option>
<option>TB4</option><option>TB5</option><option>TB6</option>
<option>TB7</option><option>TB8</option>
</select>
<input type="text" id="search" placeholder="Search..." oninput="filterItems()">
</div>

<div id="menu"></div>

<div class="cart">
<div>Total ₹ <span id="total">0</span></div>
<button class="wa" onclick="sendWA()">Send WhatsApp</button>
<button class="clear" onclick="clearCart()">Clear Cart</button>
<button class="report" onclick="downloadReport()">Download Sales Report</button>
<button class="reset" onclick="resetSales()">Reset Sales</button>
</div>

<script>

/* FULL MENU */
const categories = {
"BIRYANI":[["Chicken Biriyani",130],["Chicken Biriyani Qty",100],["65 Biriyani",150],["Egg Biriyani",100],["Plain Biriyani",90]],
"TANDOORI":[["Tandoori Qty",100],["Tandoori Half",200],["Tandoori Full",400]],
"GRILL":[["Grill Qty",100],["Grill Half",200],["Grill Full",400]],
"NOODLES":[["Chicken Noodles",130],["Singapore Chicken Noodles",150],["Chicken Schezwan Noodles",140],["Egg Noodles",100],["Veg Noodles",100],["Gopi Noodles",110],["Mushroom Noodles",120],["Paneer Noodles",130]],
"SHAWARMA":[["Shawarma Roll",60],["Shawarma Plate",130],["Shawarma Spl Roll",100],["Shawarma Spl Plate",160],["Shawarma Peri Peri Roll",70]],
"DOSA":[["Plain Dosai",40],["Kal Dosai",20],["Egg Dosai",50],["Egg Kal Dosai",40],["Kari Dosai",100],["Onion Dosai",50],["Onion Uthappam",60]],
"EGG SPECIAL":[["Masala Omelette Single",30],["Masala Omelette Double",60],["Egg Podimas",40],["Plain Omelette Single",20],["Plain Omelette Double",40],["Half Boiled",20],["Kalakki",20]],
"NAAN / ROTI":[["Plain Naan",30],["Butter Naan",40],["Garlic Naan",45],["Pudhin Naan",40],["Butter Roti",40],["Plain Roti",30],["Kulcha",30]]
};

let cart={},total=0;
const menuDiv=document.getElementById("menu");
const totalEl=document.getElementById("total");

for(let cat in categories){
 let c=document.createElement("div");
 c.className="category";
 c.innerHTML=`<h3>${cat}</h3>`;
 categories[cat].forEach(i=>{
   let key=i[0].replace(/[^a-zA-Z0-9]/g,"");
   let item=document.createElement("div");
   item.className="item";
   item.innerHTML=`
   <div>${i[0]}<br>₹${i[1]}</div>
   <div class="qty">
     <button onclick="change('${key}','${i[0]}',${i[1]},-1)">-</button>
     <span id="q-${key}">0</span>
     <button onclick="change('${key}','${i[0]}',${i[1]},1)">+</button>
   </div>`;
   c.appendChild(item);
 });
 menuDiv.appendChild(c);
}

function change(k,n,p,d){
 if(!cart[k] && d<0) return;
 if(!cart[k]) cart[k]={name:n,qty:0,price:p};
 cart[k].qty+=d;
 if(cart[k].qty<=0) delete cart[k];
 document.getElementById("q-"+k).innerText=cart[k]?cart[k].qty:0;
 render();
}

function render(){
 total=0;
 for(let k in cart){
  total+=cart[k].qty*cart[k].price;
 }
 totalEl.innerText=total;
}

function clearCart(){
 cart={};
 document.querySelectorAll(".qty span").forEach(s=>s.innerText=0);
 render();
}

function sendWA(){
 let table=document.getElementById("tableNo").value;
 if(!table || total==0){ alert("Select table & items"); return;}
 let msg=`Mumbai Special BBQ%0ATable: ${table}%0A`;
 for(let k in cart){
  msg+=`${cart[k].name} x ${cart[k].qty} = ₹${cart[k].qty*cart[k].price}%0A`;
 }
 msg+=`%0ATotal ₹${total}`;
 window.open("https://wa.me/918608776956?text="+msg,"_blank");
}

function downloadReport(){
 alert("Use PC version for report download.");
}

function resetSales(){
 alert("Reset available in PC version.");
}

function filterItems(){
 let q=document.getElementById("search").value.toLowerCase();
 document.querySelectorAll(".item").forEach(i=>{
  i.style.display=i.innerText.toLowerCase().includes(q)?"flex":"none";
 });
}

</script>
</body>
</html>
